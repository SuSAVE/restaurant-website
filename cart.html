<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</h1>
  <div id="cart-list"></div>
  <p id="total">‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: 0 ‡∏ö‡∏≤‡∏ó</p>
  <a href="index.html" class="back-btn">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>

  <script src="script.js"></script>
  <script>
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    let list = document.getElementById('cart-list');
    let total = 0;

    if (cart.length === 0) {
      list.innerHTML = "<p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</p>";
    } else {
      list.innerHTML = "<ul>";
      cart.forEach((item, index) => {
        list.innerHTML += `
          <li>
            ${item.name} - ${item.price} ‡∏ö‡∏≤‡∏ó 
            <button onclick="updateQuantity(${index}, 'decrease')">-</button>
            ${item.quantity} 
            <button onclick="updateQuantity(${index}, 'increase')">+</button>
            <button onclick="removeItem(${index})">‡∏•‡∏ö</button>
            <span>‡∏£‡∏≤‡∏Ñ‡∏≤: ${item.price * item.quantity} ‡∏ö‡∏≤‡∏ó</span>
          </li>
        `;
        total += item.price * item.quantity;
      });
      list.innerHTML += "</ul>";
    }

    document.getElementById("total").innerText = "‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: " + total + " ‡∏ö‡∏≤‡∏ó";

    function updateQuantity(index, action) {
      if (action === 'increase') {
        cart[index].quantity += 1;
      } else if (action === 'decrease' && cart[index].quantity > 1) {
        cart[index].quantity -= 1;
      }
      localStorage.setItem('cart', JSON.stringify(cart));
      location.reload(); // Refresh page to show updated quantity
    }

    function removeItem(index) {
      cart.splice(index, 1); // Remove item from array
      localStorage.setItem('cart', JSON.stringify(cart)); // Update localStorage
      location.reload(); // Refresh page to show updated cart
    }
  </script>
</body>
</html>
